<div class="profil-container">
  <h2>Mon Profil</h2>

  <!-- üïì Message de chargement -->
  <div *ngIf="loading" class="loading">Chargement du profil...</div>

  <!-- üìù FORMULAIRE -->
  <form *ngIf="isEditing && !loading" (ngSubmit)="saveProfil()" class="profil-form">
    <div class="form-group">
      <label>Parcours acad√©mique :</label>
      <textarea [(ngModel)]="profil.parcours_academique" name="parcours_academique" placeholder="D√©cris ton parcours acad√©mique"></textarea>
    </div>

    <div class="form-group">
      <label>Exp√©riences professionnelles :</label>
      <textarea [(ngModel)]="profil.experiences_professionnelles" name="experiences_professionnelles" placeholder="D√©cris tes exp√©riences professionnelles"></textarea>
    </div>

    <div class="form-group">
      <label>Comp√©tences :</label>
      <textarea [(ngModel)]="profil.competences" name="competences" placeholder="Indique tes comp√©tences cl√©s"></textarea>
    </div>

    <div class="form-group">
      <label>R√©alisations personnelles :</label>
      <textarea [(ngModel)]="profil.realisations" name="realisations" placeholder="Mentionne tes r√©alisations importantes"></textarea>
    </div>

    <button type="submit" class="btn-primary">
      {{ hasProfil ? 'Enregistrer les modifications' : 'Cr√©er le profil' }}
    </button>
  </form>

  <!-- üëÄ AFFICHAGE DU PROFIL -->
  <div *ngIf="!isEditing && hasProfil && !loading" class="profil-view">
    <div class="action-buttons">
      <button (click)="isEditing = true" class="btn-edit">‚úèÔ∏è Modifier</button>
      <button (click)="deleteProfil()" class="btn-delete">üóëÔ∏è Supprimer</button>
    </div>

    <div class="profil-card">
      <p><strong>Parcours acad√©mique :</strong> {{ profil.parcours_academique }}</p>
      <p><strong>Exp√©riences professionnelles :</strong> {{ profil.experiences_professionnelles }}</p>
      <p><strong>Comp√©tences :</strong> {{ profil.competences }}</p>
      <p><strong>R√©alisations personnelles :</strong> {{ profil.realisations }}</p>
    </div>
  </div>

  <!-- ‚ûï Aucun profil existant -->
  <div *ngIf="!hasProfil && !isEditing && !loading" class="no-profil">
    <p>Aucun profil n‚Äôa encore √©t√© cr√©√©.</p>
    <button (click)="isEditing = true" class="btn-primary">Cr√©er mon profil</button>
  </div>
</div>
